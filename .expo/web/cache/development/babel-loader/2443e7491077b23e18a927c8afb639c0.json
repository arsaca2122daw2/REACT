{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\ansas\\\\Clot\\\\2DAW2\\\\M14\\\\PROYECTOREACT\\\\REACT\\\\app\\\\views\\\\M07_Camera.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Camera } from 'expo-camera';\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#000'\n  },\n  preview: {\n    flex: 2,\n    justifyContent: 'flex-end',\n    alignItems: 'center'\n  },\n  capture: {\n    width: 200,\n    height: 40,\n    borderRadius: 35,\n    borderWidth: 5,\n    borderColor: '#FFF',\n    marginBottom: 15\n  },\n  cancel: {\n    position: 'absolute',\n    right: 20,\n    top: 20,\n    backgroundColor: 'transparent',\n    color: '#FFF',\n    fontWeight: '600',\n    fontSize: 17\n  }\n});\nexport var M07_Camera = function (_React$Component) {\n  _inherits(M07_Camera, _React$Component);\n\n  var _super = _createSuper(M07_Camera);\n\n  function M07_Camera(props) {\n    var _this;\n\n    _classCallCheck(this, M07_Camera);\n\n    _this = _super.call(this, props);\n\n    _this.ferFoto = function _callee() {\n      var data;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(_this.camera.takePictureAsync());\n\n            case 3:\n              data = _context.sent;\n\n              _this.setState({\n                path: data.uri\n              });\n\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log('err: ', _context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    };\n\n    _this.state = {\n      path: null\n    };\n    return _this;\n  }\n\n  _createClass(M07_Camera, [{\n    key: \"renderCamera\",\n    value: function renderCamera() {\n      var _this2 = this;\n\n      return React.createElement(Camera, {\n        ref: function ref(cam) {\n          _this2.camera = cam;\n        },\n        style: styles.preview,\n        flashMode: Camera.Constants.FlashMode.off,\n        permissionDialogTitle: 'permis denegat',\n        permissionDialogMessage: 'calen permisos per a fer servir la càmera',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }\n      }, React.createElement(TouchableHighlight, {\n        style: styles.capture,\n        onPress: this.ferFoto.bind(this),\n        underlayColor: \"rgba(255, 255, 255, 0.5)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }\n      })));\n    }\n  }, {\n    key: \"renderImage\",\n    value: function renderImage() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 7\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: this.state.path\n        },\n        style: styles.preview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }\n      }), React.createElement(Text, {\n        style: styles.cancel,\n        onPress: function onPress() {\n          return _this3.setState({\n            path: null\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }, \"Cancel\"));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 7\n        }\n      }, this.state.path ? this.renderImage() : this.renderCamera());\n    }\n  }]);\n\n  return M07_Camera;\n}(React.Component);","map":{"version":3,"sources":["C:/Users/ansas/Clot/2DAW2/M14/PROYECTOREACT/REACT/app/views/M07_Camera.js"],"names":["React","Camera","styles","StyleSheet","create","container","flex","alignItems","justifyContent","backgroundColor","preview","capture","width","height","borderRadius","borderWidth","borderColor","marginBottom","cancel","position","right","top","color","fontWeight","fontSize","M07_Camera","props","ferFoto","camera","takePictureAsync","data","setState","path","uri","console","log","state","cam","Constants","FlashMode","off","bind","renderImage","renderCamera","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { TouchableHighlight, StyleSheet, Image, Text, View } from 'react-native';\r\n\r\n\r\n/**\r\n * Classe que hereta de Component i que implementa un component\r\n * independent en l'app. És un component bàsic sense estils\r\n * Fa servir routing\r\n * @version 1.0 05.04.2020\r\n * @author sergi.grau@fje.edu\r\n */\r\n\r\nimport { Camera } from 'expo-camera';\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#000',\r\n  },\r\n  preview: {\r\n    flex: 2,\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    \r\n  },\r\n  capture: {\r\n    width: 200,\r\n    height: 40,\r\n    borderRadius: 35,\r\n    borderWidth: 5,\r\n    borderColor: '#FFF',\r\n    marginBottom: 15,\r\n\r\n  },\r\n  cancel: {\r\n    position: 'absolute',\r\n    right: 20,\r\n    top: 20,\r\n    backgroundColor: 'transparent',\r\n    color: '#FFF',\r\n    fontWeight: '600',\r\n    fontSize: 17,\r\n  }\r\n});\r\n\r\nexport class M07_Camera extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      path: null,\r\n    };\r\n  }\r\n  ferFoto = async () => {\r\n    try {\r\n      const data = await this.camera.takePictureAsync();\r\n      this.setState({ path: data.uri });\r\n      // this.props.updateImage(data.uri);\r\n      // console.log('Path to image: ' + data.uri);\r\n    } catch (err) {\r\n      console.log('err: ', err);\r\n    }\r\n  };\r\n  renderCamera() {\r\n    return (\r\n      <Camera\r\n        ref={(cam) => {\r\n          this.camera = cam;\r\n        }}\r\n        style={styles.preview}\r\n        flashMode={Camera.Constants.FlashMode.off}\r\n        permissionDialogTitle={'permis denegat'}\r\n        permissionDialogMessage={'calen permisos per a fer servir la càmera'}\r\n      >\r\n        <TouchableHighlight\r\n          style={styles.capture}\r\n          onPress={this.ferFoto.bind(this)}\r\n          underlayColor=\"rgba(255, 255, 255, 0.5)\"\r\n        >\r\n          <View />\r\n        </TouchableHighlight>\r\n      </Camera>\r\n    );\r\n  }\r\n\r\n  renderImage() {\r\n    return (\r\n      <View>\r\n        <Image\r\n          source={{ uri: this.state.path }}\r\n          style={styles.preview}\r\n        />\r\n        <Text\r\n          style={styles.cancel}\r\n          onPress={() => this.setState({ path: null })}\r\n        >Cancel\r\n        </Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <View style={styles.container}>\r\n        {this.state.path ? this.renderImage() : this.renderCamera()}\r\n      </View>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}